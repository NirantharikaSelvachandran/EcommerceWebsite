<app-header></app-header>

<body>
  <ng-container *ngIf="showproduct.length !=0">
    <div class="container-fluid">
      <div class="row ">
        <div class="col-md-7 mx-auto text-center" style="padding-left: 150px;">
          <h1 class="text-center mt-3">Cart Items</h1>
          <table class="table mt-3 mx-auto">
            <thead class="text-center fs-4">
              <tr>
                <th scope="col">Image</th>
                <th scope="col">Brand</th>
                <th scope="col">Category</th>
                <th scope="col">Price</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of showproduct" class="text-center fs-5">
                <td><img style="width: 120px;" src="{{item.images[0]}}"></td>
                <td>{{item.title}}</td>
                <td>{{item.category}}</td>
                <td>$ {{item.price}}</td>
                <td><button (click)="deleteitem(item)" class="btn btn-danger">Delete</button></td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="col-md-5 mx-auto" style="padding-left: 120px;">
          <h1 class="mt-3">Total Amount:</h1><br>
          <strong style="font-size: 35px; color: green;">$ {{totalamount}}</strong><br>
          <div class="btn-group mt-3">
            <button (click)="this.addressform = true" class="btn btn-primary">Checkout</button>&nbsp;
            <button (click)="empty()" class="btn btn-secondary">Empty Cart</button>
          </div>

          <div class="mt-5" *ngIf="addressform">
            <form [formGroup]="myForm">
              <div class="mb-3">
                <label for="exampleInputEmail1" class="form-label">Email address</label>
                <input type="email" class="form-control" formControlName="email" id="exampleInputEmail1"
                  placeholder="Enter your Email" aria-describedby="emailHelp">
              </div>
              <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">Name</label>
                <input type="text" class="form-control" formControlName="name" id="exampleInputPassword1"
                  placeholder="Enter your Name">
              </div>
              <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">Phone number</label>
                <input type="number" class="form-control" formControlName="phone" id="exampleInputPassword1"
                  placeholder="Enter your Phone number">
              </div>
              <div class="mb-3">
                <label for="exampleFormControlTextarea1" class="form-label">Address</label>
                <textarea class="form-control" formControlName="address" id="exampleFormControlTextarea1" rows="3"
                  placeholder="Enter your Address"></textarea>
              </div>
              <button type="submit" routerLink="/order-page" (click)="onsubmit()" [disabled]="this.myForm.invalid"
                class="btn btn-success">Order</button>&nbsp;
              <button (click)="cancel()" type="submit" class="btn btn-dark">Cancel</button>
            </form>
          </div>

        </div>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="showproduct.length ==0">
    <div class="mx-auto d-flex align-items-center justify-content-center">
      <img class="empty-img" src="../../../assets/empty-cart-5521508-4610092.webp" />
    </div>
    <div class="card move-card text-center mx-auto d-flex align-items-center">
      <div class="center">
        <h2>Your Cart Items is Empty</h2>
        <h4>Before proceed to checkout you must add some products to your cart. You will find a lot of interesting
          products on our "Products Details Page".</h4>
        <button routerLink="/" class="btn fs-4 mt-3 shopbtn">Shop Now</button>
      </div>
    </div>
  </ng-container>
</body>